{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://192.168.2.224:9099/api/auth\";\nclass AuthService {\n  async login(email, password) {\n    const requestData = {\n      email,\n      password\n    };\n    const response = await axios.post(`${API_URL}/signin`, requestData);\n    localStorage.setItem(\"accessToken\", response.data.accessToken);\n  }\n  logout() {\n    localStorage.removeItem(\"accessToken\");\n  }\n  getCurrentUser() {\n    const accessToken = localStorage.getItem(\"accessToken\");\n    if (accessToken) {\n      // decode JWT token to get user email\n      const email = \"user@example.com\";\n      return {\n        email\n      };\n    }\n    return null;\n  }\n}\nexport default new AuthService();","map":{"version":3,"names":["axios","API_URL","AuthService","login","email","password","requestData","response","post","localStorage","setItem","data","accessToken","logout","removeItem","getCurrentUser","getItem"],"sources":["D:/Workspace/Test2/antd-demo-ts/src/service/AuthService.tsx"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://192.168.2.224:9099/api/auth\";\r\n\r\ninterface LoginRequest {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\ninterface LoginResponse {\r\n  accessToken: string;\r\n}\r\n\r\nclass AuthService {\r\n  async login(email: string, password: string): Promise<void> {\r\n    const requestData: LoginRequest = {\r\n      email,\r\n      password,\r\n    };\r\n    const response = await axios.post<LoginResponse>(\r\n      `${API_URL}/signin`,\r\n      requestData\r\n    );\r\n    localStorage.setItem(\"accessToken\", response.data.accessToken);\r\n  }\r\n\r\n  logout() {\r\n    localStorage.removeItem(\"accessToken\");\r\n  }\r\n\r\n  getCurrentUser(): { email: string } | null {\r\n    const accessToken = localStorage.getItem(\"accessToken\");\r\n    if (accessToken) {\r\n      // decode JWT token to get user email\r\n      const email = \"user@example.com\";\r\n      return { email };\r\n    }\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,oCAAoC;AAWpD,MAAMC,WAAW,CAAC;EAChB,MAAMC,KAAKA,CAACC,KAAa,EAAEC,QAAgB,EAAiB;IAC1D,MAAMC,WAAyB,GAAG;MAChCF,KAAK;MACLC;IACF,CAAC;IACD,MAAME,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAC9B,GAAEP,OAAQ,SAAQ,EACnBK,WACF,CAAC;IACDG,YAAY,CAACC,OAAO,CAAC,aAAa,EAAEH,QAAQ,CAACI,IAAI,CAACC,WAAW,CAAC;EAChE;EAEAC,MAAMA,CAAA,EAAG;IACPJ,YAAY,CAACK,UAAU,CAAC,aAAa,CAAC;EACxC;EAEAC,cAAcA,CAAA,EAA6B;IACzC,MAAMH,WAAW,GAAGH,YAAY,CAACO,OAAO,CAAC,aAAa,CAAC;IACvD,IAAIJ,WAAW,EAAE;MACf;MACA,MAAMR,KAAK,GAAG,kBAAkB;MAChC,OAAO;QAAEA;MAAM,CAAC;IAClB;IACA,OAAO,IAAI;EACb;AACF;AAEA,eAAe,IAAIF,WAAW,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}
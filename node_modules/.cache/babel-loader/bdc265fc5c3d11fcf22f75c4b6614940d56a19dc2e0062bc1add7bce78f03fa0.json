{"ast":null,"code":"import { LOGIN_SUCCESS, LOGIN_FAIL } from \"../action/types\";\nconst data = localStorage.getItem(\"accessToken\");\nconst user = JSON.parse(data);\nconst initialState = user ? {\n  isLoggedIn: true,\n  user\n} : {\n  isLoggedIn: false,\n  user: null\n};\nexport default function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case LOGIN_SUCCESS:\n      return {\n        ...state,\n        isLoggedIn: true,\n        user: payload.user\n      };\n    case LOGIN_FAIL:\n      return {\n        ...state,\n        isLoggedIn: false,\n        user: null\n      };\n    case typeof state === \"undefined\":\n      return {};\n  }\n}","map":{"version":3,"names":["LOGIN_SUCCESS","LOGIN_FAIL","data","localStorage","getItem","user","JSON","parse","initialState","isLoggedIn","state","arguments","length","undefined","action","type","payload"],"sources":["D:/Workspace/Test2/antd-demo-ts/src/reducers/auth.ts"],"sourcesContent":["import { LOGIN_SUCCESS, LOGIN_FAIL } from \"../action/types\";\r\n\r\nconst data = localStorage.getItem(\"accessToken\");\r\nconst user = JSON.parse(data);\r\n\r\nconst initialState = user\r\n  ? { isLoggedIn: true, user }\r\n  : { isLoggedIn: false, user: null };\r\n\r\nexport default function (state = initialState, action: any) {\r\n  const { type, payload } = action;\r\n  switch (type) {\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: true,\r\n        user: payload.user,\r\n      };\r\n    case LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n        user: null,\r\n      };\r\n    case typeof state === \"undefined\":\r\n      return {};\r\n  }\r\n}\r\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,UAAU,QAAQ,iBAAiB;AAE3D,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;AAChD,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACL,IAAI,CAAC;AAE7B,MAAMM,YAAY,GAAGH,IAAI,GACrB;EAAEI,UAAU,EAAE,IAAI;EAAEJ;AAAK,CAAC,GAC1B;EAAEI,UAAU,EAAE,KAAK;EAAEJ,IAAI,EAAE;AAAK,CAAC;AAErC,eAAe,YAA6C;EAAA,IAAnCK,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGH,YAAY;EAAA,IAAEM,MAAW,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EACxD,MAAM;IAAEE,IAAI;IAAEC;EAAQ,CAAC,GAAGF,MAAM;EAChC,QAAQC,IAAI;IACV,KAAKf,aAAa;MAChB,OAAO;QACL,GAAGU,KAAK;QACRD,UAAU,EAAE,IAAI;QAChBJ,IAAI,EAAEW,OAAO,CAACX;MAChB,CAAC;IACH,KAAKJ,UAAU;MACb,OAAO;QACL,GAAGS,KAAK;QACRD,UAAU,EAAE,KAAK;QACjBJ,IAAI,EAAE;MACR,CAAC;IACH,KAAK,OAAOK,KAAK,KAAK,WAAW;MAC/B,OAAO,CAAC,CAAC;EACb;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}
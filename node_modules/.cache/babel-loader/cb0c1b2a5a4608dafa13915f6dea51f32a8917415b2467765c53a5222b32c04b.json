{"ast":null,"code":"import { LOGIN_SUCCESS, LOGIN_FAIL, SET_MESSAGE } from \"./types\";\nimport authHeader from \"../services/auth.service\";\nexport const login = (username, password) => dispatch => {\n  return authHeader.login(username, password).then(data => {\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: {\n        user: data\n      }\n    });\n    return Promise.resolve();\n  }, error => {\n    const message = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    dispatch({\n      type: LOGIN_FAIL\n    });\n    dispatch({\n      type: SET_MESSAGE,\n      payload: message\n    });\n    return Promise.reject();\n  });\n};","map":{"version":3,"names":["LOGIN_SUCCESS","LOGIN_FAIL","SET_MESSAGE","authHeader","login","username","password","dispatch","then","data","type","payload","user","Promise","resolve","error","message","response","toString","reject"],"sources":["D:/Workspace/Test2/antd-demo-ts/src/action/auth.ts"],"sourcesContent":["import { LOGIN_SUCCESS, LOGIN_FAIL, SET_MESSAGE } from \"./types\";\r\n\r\nimport authHeader from \"../services/auth.service\";\r\n\r\nexport const login: any =\r\n  (username: string, password: string) => (dispatch: any) => {\r\n    return authHeader.login(username, password).then(\r\n      (data: any) => {\r\n        dispatch({\r\n          type: LOGIN_SUCCESS,\r\n          payload: { user: data },\r\n        });\r\n\r\n        return Promise.resolve();\r\n      },\r\n      (error: any) => {\r\n        const message =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString();\r\n\r\n        dispatch({\r\n          type: LOGIN_FAIL,\r\n        });\r\n\r\n        dispatch({\r\n          type: SET_MESSAGE,\r\n          payload: message,\r\n        });\r\n\r\n        return Promise.reject();\r\n      }\r\n    );\r\n  };\r\n"],"mappings":"AAAA,SAASA,aAAa,EAAEC,UAAU,EAAEC,WAAW,QAAQ,SAAS;AAEhE,OAAOC,UAAU,MAAM,0BAA0B;AAEjD,OAAO,MAAMC,KAAU,GACrBA,CAACC,QAAgB,EAAEC,QAAgB,KAAMC,QAAa,IAAK;EACzD,OAAOJ,UAAU,CAACC,KAAK,CAACC,QAAQ,EAAEC,QAAQ,CAAC,CAACE,IAAI,CAC7CC,IAAS,IAAK;IACbF,QAAQ,CAAC;MACPG,IAAI,EAAEV,aAAa;MACnBW,OAAO,EAAE;QAAEC,IAAI,EAAEH;MAAK;IACxB,CAAC,CAAC;IAEF,OAAOI,OAAO,CAACC,OAAO,CAAC,CAAC;EAC1B,CAAC,EACAC,KAAU,IAAK;IACd,MAAMC,OAAO,GACVD,KAAK,CAACE,QAAQ,IACbF,KAAK,CAACE,QAAQ,CAACR,IAAI,IACnBM,KAAK,CAACE,QAAQ,CAACR,IAAI,CAACO,OAAO,IAC7BD,KAAK,CAACC,OAAO,IACbD,KAAK,CAACG,QAAQ,CAAC,CAAC;IAElBX,QAAQ,CAAC;MACPG,IAAI,EAAET;IACR,CAAC,CAAC;IAEFM,QAAQ,CAAC;MACPG,IAAI,EAAER,WAAW;MACjBS,OAAO,EAAEK;IACX,CAAC,CAAC;IAEF,OAAOH,OAAO,CAACM,MAAM,CAAC,CAAC;EACzB,CACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}